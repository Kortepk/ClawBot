<Window x:Class="ClawBot.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:h="clr-namespace:HelixToolkit.Wpf;assembly=HelixToolkit.Wpf"
        Title="Robot Arm Controller" Height="600" Width="800" Closing="Window_Closing">
    <Grid>
        <h:HelixViewport3D x:Name="viewport" Grid.Column="0" ZoomExtentsWhenLoaded="True">
            <h:HelixViewport3D.Camera>
                <PerspectiveCamera Position="0, 5, 10" LookDirection="0, 1, -1"/>
            </h:HelixViewport3D.Camera>
            <h:DefaultLights/>
        </h:HelixViewport3D>
        <Border 
            HorizontalAlignment="Right" 
            VerticalAlignment="Top"
            Margin="10"
            BorderBrush="#803F3F3F" 
            BorderThickness="1" 
            CornerRadius="5"
            Background="#80E5EFEC"
            Padding="5"
            >
            <StackPanel Orientation="Vertical" Margin="10">
                <!-- Поворотный модуль (основание) -->
                <StackPanel Orientation="Horizontal" Margin="0,5">
                    <TextBlock Text="Поворотный модуль:" Width="120" TextAlignment="Right" Margin="0,0,10,0"/>
                    <Slider x:Name="rotationSlider" Tag="0" Width="100" Minimum="0" Maximum="180" ValueChanged="rotationSlider_ValueChanged" SmallChange="1"/>
                    <TextBox Text="{Binding ElementName=rotationSlider, Path=Value, StringFormat={}{0:F0}°}" Width="50" IsReadOnly="True"/>
                </StackPanel>

                <!-- Плечевой сустав -->
                <StackPanel Orientation="Horizontal" Margin="0,5">
                    <TextBlock Text="Плечевой сустав:" Width="120" TextAlignment="Right" Margin="0,0,10,0"/>
                    <Slider x:Name="shoulderSlider" Tag="1" Width="100" Minimum="0" Maximum="180" ValueChanged="shoulderSlider_ValueChanged" SmallChange="1"/>
                    <TextBox Text="{Binding ElementName=shoulderSlider, Path=Value, StringFormat={}{0:F0}°}" Width="50" IsReadOnly="True"/>
                </StackPanel>

                <!-- Локтевой сустав -->
                <StackPanel Orientation="Horizontal" Margin="0,5">
                    <TextBlock Text="Локтевой сустав:" Width="120" TextAlignment="Right" Margin="0,0,10,0"/>
                    <Slider x:Name="elbowSlider" Tag="2" Width="100" Minimum="0" Maximum="180" ValueChanged="elbowSlider_ValueChanged" SmallChange="1"/>
                    <TextBox Text="{Binding ElementName=elbowSlider, Path=Value, StringFormat={}{0:F0}°}" Width="50" IsReadOnly="True"/>
                </StackPanel>

                <!-- Кистевой сустав -->
                <StackPanel Orientation="Horizontal" Margin="0,5">
                    <TextBlock Text="Кистевой сустав:" Width="120" TextAlignment="Right" Margin="0,0,10,0"/>
                    <Slider x:Name="wristSlider" Tag="3" Width="100" Minimum="0" Maximum="180" ValueChanged="wristSlider_ValueChanged" SmallChange="1"/>
                    <TextBox Text="{Binding ElementName=wristSlider, Path=Value, StringFormat={}{0:F0}°}" Width="50" IsReadOnly="True"/>
                </StackPanel>

                <!-- Захват (клешня) -->
                <StackPanel Orientation="Horizontal" Margin="0,5">
                    <TextBlock Text="Захват:" Width="120" TextAlignment="Right" Margin="0,0,10,0"/>
                    <Slider x:Name="gripSlider" Tag="4" Width="100" Minimum="0" Maximum="90" ValueChanged="gripSlider_ValueChanged" SmallChange="1"/>
                    <TextBox Text="{Binding ElementName=gripSlider, Path=Value, StringFormat={}{0:F0}°}" Width="50" IsReadOnly="True"/>
                </StackPanel>

            </StackPanel>
        </Border>

        <Border 
        HorizontalAlignment="Right" 
        VerticalAlignment="Center"
        Margin="10"
        BorderBrush="#803F3F3F" 
        BorderThickness="1" 
        CornerRadius="5"
        Background="#80E5EFEC"
        Padding="5"
        >
            <StackPanel Orientation="Vertical">
                <TextBlock Text="Настройки COM порта"/>
                <StackPanel Orientation="Horizontal"  HorizontalAlignment="Center" Margin="0,10,0,10">
                    <ComboBox x:Name="PortsComboBox" Width="90" Margin="0,0,0,0" Height="20"/>
                    <Button Content="" Click="RefreshPorts_Click" Width="20" Height="20" Margin="10,0,0,0">
                        <Button.Resources>
                            <Style TargetType="Border">
                                <Setter Property="CornerRadius" Value="10"/>
                            </Style>
                        </Button.Resources>
                        <Button.Background>
                            <ImageBrush ImageSource="img/refresh-icon.png">
                                <ImageBrush.RelativeTransform>
                                    <TransformGroup>
                                        <ScaleTransform CenterY="0.5" CenterX="0.5" ScaleX="0.95" ScaleY="0.95"/>
                                        <SkewTransform CenterX="0.5" CenterY="0.5"/>
                                        <RotateTransform CenterX="0.5" CenterY="0.5"/>
                                        <TranslateTransform/>
                                    </TransformGroup>
                                </ImageBrush.RelativeTransform>
                            </ImageBrush>
                        </Button.Background>
                    </Button>
                </StackPanel>
                <Button x:Name="ConnectCom" Content="Подключиться" Click="ConnectCom_Click" Margin="0,0,0,0" Width="120" Height="21" VerticalAlignment="Center" HorizontalAlignment="Center"/>
            </StackPanel>
        </Border>
    </Grid>
</Window>